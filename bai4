Bài 04(lthdtbai04.cpp): Tính tổng 2 ma trận nguyên có kích thước mxn, Cmxn = Amxn + Bmxn.
Đưa các ma trận ra màn hình theo định dạng hàng, cột. Y/c sử dụng mảng động
chứa các ma trận. Các ma trận đọc vào từ tệp văn bản: "matran-A.txt" và "matran-B.txt".
*/
#include<iostream>
#include<fstream>
#include<stdio.h>

using namespace std;

void docTepMT(int* &X,int &m,int &n,const char *tenTep);
void duaRaMT(int *X,int m,int n);
int* congMT(int *A,int *B,int m,int n);

//===chuong trinh chinh===
int main()
{
    //Khai bao bien
    int *A,*B,*C;
    int mA,nA,mB,nB;

    //Doc ma tran A,B tu tep
    docTepMT(A,mA,nA,"matran-A.txt");
    docTepMT(B,mB,nB,"matran-B.txt");

    //Dua ra
    cout<<"Ma tran A la:\n";
    duaRaMT(A,mA,nA);
    cout<<"\n\nMa tran B la:\n";
    duaRaMT(B,mB,nB);

    //Kiem tra dieu kien de cong 2 ma tran
    if(mA==mB && nA==nB)
    {
        C = congMT(A,B,mA,nA);
        cout<<"\n\nMa tran tong C = A + B la:\n";
        duaRaMT(C,mB,nB);
    }
    else cout<<"\n\nHai ma tran khong cung kich thuoc, khong cong duoc.";

    //Huy cac mang dong
    delete [] A;
    delete [] B;
    delete [] C;

    cout<<endl;
    return 0;
}
//===dinh nghia ham===
void docTepMT(int* &X,int &m,int &n,const char *tenTep)
{
    //Khai bao tep doc vao
    ifstream fin(tenTep);

    //Doc so hang, so cot cua ma tran tu tep
    fin>>m>>n;

    //Tao mang dong co mxn o nho de chua ma tran
    X = new int[m*n];

    //Doc ma tran tu tep vao mang dong X
    for(int i=1;i<=m;i++)
        for(int j=1;j<=n;j++)
        {
            int k = (i-1)*n + j - 1;
            fin>>X[k];
        }
}

void duaRaMT(int *X,int m,int n)
{
    for(int i=1;i<=m;i++)
    {
        //Dua ra hang i
        for(int j=1;j<=n;j++)
        {
            int k = (i-1)*n + j - 1;
            printf("%6d",X[k]);
        }
        //Xuong dong
        cout<<endl;
    }
}

int* congMT(int *A,int *B,int m,int n)
{
    //Tao mang dong C co mxn o nho de chua ma tran tong
    int *C = new int[m*n];

    //Cong 2 ma tran
    for(int i=1;i<=m;i++)
        for(int j=1;j<=n;j++)
        {
            int k = (i-1)*n + j - 1;
            C[k] = A[k] + B[k];
        }

    //Tra ve ma tran tong
    return C;
}
